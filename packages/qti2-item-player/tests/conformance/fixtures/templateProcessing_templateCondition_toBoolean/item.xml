<?xml version="1.0" encoding="UTF-8"?>
<assessmentItem
	xmlns="http://www.imsglobal.org/xsd/imsqti_v2p2"
	identifier="templateProcessing_templateCondition_toBoolean"
	title="templateCondition toBoolean"
	adaptive="false"
	timeDependent="false"
>
	<templateDeclaration identifier="X" cardinality="single" baseType="integer">
		<defaultValue><value>0</value></defaultValue>
	</templateDeclaration>
	<templateDeclaration identifier="S" cardinality="single" baseType="string">
		<defaultValue><value></value></defaultValue>
	</templateDeclaration>

	<templateDeclaration identifier="A" cardinality="single" baseType="integer">
		<defaultValue><value>0</value></defaultValue>
	</templateDeclaration>
	<templateDeclaration identifier="B" cardinality="single" baseType="integer">
		<defaultValue><value>0</value></defaultValue>
	</templateDeclaration>
	<templateDeclaration identifier="C" cardinality="single" baseType="integer">
		<defaultValue><value>0</value></defaultValue>
	</templateDeclaration>
	<templateDeclaration identifier="D" cardinality="single" baseType="integer">
		<defaultValue><value>0</value></defaultValue>
	</templateDeclaration>

	<templateProcessing>
		<!-- integer 0 => false -->
		<setTemplateValue identifier="X">
			<baseValue baseType="integer">0</baseValue>
		</setTemplateValue>
		<templateCondition>
			<templateIf>
				<variable identifier="X" />
				<setTemplateValue identifier="A"><baseValue baseType="integer">1</baseValue></setTemplateValue>
			</templateIf>
			<templateElse>
				<setTemplateValue identifier="A"><baseValue baseType="integer">0</baseValue></setTemplateValue>
			</templateElse>
		</templateCondition>

		<!-- integer 2 => true -->
		<setTemplateValue identifier="X">
			<baseValue baseType="integer">2</baseValue>
		</setTemplateValue>
		<templateCondition>
			<templateIf>
				<variable identifier="X" />
				<setTemplateValue identifier="B"><baseValue baseType="integer">1</baseValue></setTemplateValue>
			</templateIf>
			<templateElse>
				<setTemplateValue identifier="B"><baseValue baseType="integer">0</baseValue></setTemplateValue>
			</templateElse>
		</templateCondition>

		<!-- empty string => false -->
		<setTemplateValue identifier="S">
			<baseValue baseType="string"></baseValue>
		</setTemplateValue>
		<templateCondition>
			<templateIf>
				<variable identifier="S" />
				<setTemplateValue identifier="C"><baseValue baseType="integer">1</baseValue></setTemplateValue>
			</templateIf>
			<templateElse>
				<setTemplateValue identifier="C"><baseValue baseType="integer">0</baseValue></setTemplateValue>
			</templateElse>
		</templateCondition>

		<!-- non-empty string => true -->
		<setTemplateValue identifier="S">
			<baseValue baseType="string">hi</baseValue>
		</setTemplateValue>
		<templateCondition>
			<templateIf>
				<variable identifier="S" />
				<setTemplateValue identifier="D"><baseValue baseType="integer">1</baseValue></setTemplateValue>
			</templateIf>
			<templateElse>
				<setTemplateValue identifier="D"><baseValue baseType="integer">0</baseValue></setTemplateValue>
			</templateElse>
		</templateCondition>
	</templateProcessing>

	<outcomeDeclaration identifier="SCORE" cardinality="single" baseType="integer">
		<defaultValue><value>0</value></defaultValue>
	</outcomeDeclaration>

	<itemBody>
		<p>A=<printedVariable identifier="A"/> B=<printedVariable identifier="B"/> C=<printedVariable identifier="C"/> D=<printedVariable identifier="D"/></p>
	</itemBody>

	<responseProcessing>
		<setOutcomeValue identifier="SCORE">
			<sum>
				<variable identifier="A" />
				<variable identifier="B" />
				<variable identifier="C" />
				<variable identifier="D" />
			</sum>
		</setOutcomeValue>
	</responseProcessing>
</assessmentItem>


