version: 1

component:
  interactionType: positionObjectInteraction
  tagName: pie-qti-position-object

examplesApp:
  app: "@pie-qti/qti2-example"
  routeTemplate: "/item-demo/{sampleId}"

evals:
  - id: position-object/position-object/partial-correct
    sampleId: position-object
    gradeBand: "K-12"
    subject: general
    intent: "Position some furniture correctly to test partial credit scoring."

    notes:
      - "positionObjectInteraction uses baseType='point' with cardinality='multiple'"
      - "Response format should be array of coordinate pairs like ['150 80', '250 200']"
      - "Each positioned object contributes to the score based on matchObject rules"

    steps:
      - action: navigate
        path: "/item-demo/position-object"

      - action: dragToCanvas
        target:
          description: "Drag the Sofa icon from the palette to position (150, 80) on the canvas"
          hint: "SOFA stage"

      - action: dragToCanvas
        target:
          description: "Drag a Coffee Table icon to position (350, 120)"
          hint: "TABLE stage"

      - action: submit
        target:
          description: "Submit Answer(s) button"
          hint: "Button text contains 'Submit Answer'"

    expected:
      responses:
        RESPONSE:
          lengthGte: 2
      outcomes:
        SCORE:
          # Partial credit for some correct placements
          gte: 0.0
        # No MAXSCORE in sample item

    spiritChecks:
      - "Draggable objects are clearly visible with icons/images, not just text labels."
      - "Objects snap to canvas and can be repositioned by dragging them again."
      - "Usage counts (e.g., '1/2 used') update correctly as objects are placed."
      - "Remove buttons on placed objects work and restore availability in palette."
